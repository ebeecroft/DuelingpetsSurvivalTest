<%= form_with(model: @userinfo, local: true) do |form| %>
  <% if @userinfo.errors.any? %>
     <div class="alignboxes">
        <div id="errorexplan">
           <h2 id="errorheader"><%= pluralize(@userinfo.errors.count, "error") %> prohibited this userinfo from being saved:</h2>
           <ul>
              <% @userinfo.errors.full_messages.each do |message| %>
                 <li class="explantext"><%= message %></li>
              <% end %>
           </ul>
        </div>
     </div>
  <% end %>
  <p class="pageformat">Avatar files</p>
  <div class="pageformat">
     <%= image_tag @userinfo.avatar_url(:thumb).to_s if @userinfo.avatar? %>
  </div>
  <div class="pageformat">
     <%= form.file_field :avatar %>
  </div>
  <div class="pageformat">
    <%= form.label :remote_avatar_url, "or Avatar URL" %><br />
    <%= form.text_field :remote_avatar_url %>
    <%= form.hidden_field :avatar_cache %>
  </div>
  <br>
  <p class="pageformat">Miniavatar files</p>
  <div class="pageformat">
     <%= image_tag @userinfo.miniavatar_url(:thumb).to_s if @userinfo.miniavatar? %>
  </div>
  <div class="pageformat">
     <%= form.file_field :miniavatar %>
  </div>
  <div class="pageformat">
    <%= form.label :remote_miniavatar_url, "or Mini-Avatar URL" %><br />
    <%= form.text_field :remote_miniavatar_url %>
    <%= form.hidden_field :miniavatar_cache %>
  </div>
  <br>
  <p class="pageformat">Ogg files</p>
  <div class="pageformat">
     <%= audio_tag(@userinfo.ogg_url.to_s, :controls => true) if @userinfo.ogg? %>
  </div>
  <div class="pageformat">
     <%= form.file_field :ogg %>
  </div>
  <div class="pageformat">
    <%= form.label :remote_ogg_url, "or Ogg URL" %><br />
    <%= form.text_field :remote_ogg_url %>
    <%= form.hidden_field :ogg_cache %>
  </div>
  <br>
  <p class="pageformat">MP3 files</p>
  <div class="pageformat">
     <%= audio_tag(@userinfo.mp3_url.to_s, :controls => true) if @userinfo.mp3? %>
  </div>
  <div class="pageformat">
     <%= form.file_field :mp3 %>
  </div>
  <div class="pageformat">
    <%= form.label :remote_mp3_url, "or Mp3 URL" %><br />
    <%= form.text_field :remote_mp3_url %>
    <%= form.hidden_field :mp3_cache %>
  </div>
  <br>
  <% if @daycolors.count > 0 && @nightcolors.count > 0 %>
     <div class="pageformat">
        <%= form.label :nightvision %>
        <%= form.check_box :nightvision %>
     </div>
     <br>
  <% end %>
  <% if @daycolors.count > 0 %>
     <div class="pageformat">
        <%= form.label :daycolor_id, "Day colorscheme" %>
        <%= form.collection_select(:daycolor_id, @daycolors, :id, :name) %>
     </div>
     <br>
  <% end %>
  <% if @nightcolors.count > 0 %>
     <div class="pageformat">
        <%= form.label :nightcolor_id, "Night colorscheme" %>
        <%= form.collection_select(:nightcolor_id, @nightcolors, :id, :name) %>
     </div>
     <br>
  <% end %>
  <div class="pageformat">
    <%= form.label :militarytime %>
    <%= form.check_box :militarytime %>
  </div>
  <br>
  <div class="pageformat">
    <%= form.label :audiobrowser %>
    <%= form.text_field :audiobrowser %>
  </div>
  <br>
  <div class="pageformat">
    <%= form.label :videobrowser %>
    <%= form.text_field :videobrowser %>
  </div>
  <br>
  <div class="pageformat">
    <%= form.label :bookgroup_id, "Select Reading Group" %>
    <%= form.collection_select(:bookgroup_id, @group, :id, :name) %>
  </div>
  <br>
  <div class="pageformat">
    <% if @userinfo.info.to_s != "" %>
      <p><%= @userinfo.info %></p>
      <br>
    <% end %>
  </div>
  <div class="pageformat">
    <%= form.label :info %>
    <%= form.text_area :info %>
  </div>
  <br>
  <div class="pageformat">
    <%= form.submit class: "button submitbutton" %>
  </div>
<% end %>
